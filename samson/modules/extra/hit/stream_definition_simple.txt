# Remove previous definitions
rm_stream_operation hit.01.parser_words -f
rm_stream_operation hit.03.split -f

rm_stream_operation hit.10.reduce_words -f

rm_stream_operation hit.20.reduce_tops -f
rm_stream_operation hit.21.export_tops -f


rm hit.01.in_txt -f
rm hit.03.input_words_previous -f
rm hit.04.input_words -f

rm hit.10.words -f

rm hit.11.words_update -f

rm hit.20.hit.tops -f
rm hit.21.output_tops -f
rm hit.22.output_tops_txt -f


# Parse input txt files to extract words
add_stream_operation hit.01.parser_words txt.parser_words hit.01.in_txt hit.03.input_words_previous

# Split words
add_stream_operation hit.03.split hit.split_words hit.03.input_words_previous hit.04.input_words

# Reduce words
add_stream_operation hit.10.reduce_words hit.reduceHits hit.04.input_words hit.10.words hit.11.words_update hit.10.words

# Reduce top elements
add_stream_operation hit.20.reduce_tops hit.reduceHitCollections hit.11.words_update hit.20.tops hit.21.output_tops hit.20.tops

# ParseOur results
add_stream_operation hit.21.export_tops hit.export_hit_collection hit.21.output_tops hit.22.output_tops_txt



